import{a as e}from"./framer-motion-Jr-DK7GE.js";var t=e();function n(e,n,r,i){var a=this,o=(0,t.useRef)(null),s=(0,t.useRef)(0),c=(0,t.useRef)(0),l=(0,t.useRef)(null),u=(0,t.useRef)([]),d=(0,t.useRef)(),f=(0,t.useRef)(),p=(0,t.useRef)(e),m=(0,t.useRef)(!0),h=(0,t.useRef)(),g=(0,t.useRef)();p.current=e;var _=typeof window<`u`,v=!n&&n!==0&&_;if(typeof e!=`function`)throw TypeError(`Expected a function`);n=+n||0;var y=!!(r||={}).leading,b=!(`trailing`in r)||!!r.trailing,x=!!r.flushOnExit&&b,S=`maxWait`in r,C=`debounceOnServer`in r&&!!r.debounceOnServer,w=S?Math.max(+r.maxWait||0,n):null,T=(0,t.useMemo)(function(){var e=function(e){var t=u.current,n=d.current;return u.current=d.current=null,s.current=e,c.current=c.current||e,f.current=p.current.apply(n,t)},t=function(e,t){v&&cancelAnimationFrame(l.current),l.current=v?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!m.current)return!1;var t=e-o.current;return!o.current||t>=n||t<0||S&&e-s.current>=w},T=function(t){return l.current=null,b&&u.current?e(t):(u.current=d.current=null,f.current)},E=function e(){var i=Date.now();if(y&&c.current===s.current&&D(),r(i))return T(i);if(m.current){var a=n-(i-o.current);t(e,S?Math.min(a,w-(i-s.current)):a)}},D=function(){i&&i({})},O=function(){if(_||C){var i,c=Date.now(),p=r(c);if(u.current=[].slice.call(arguments),d.current=a,o.current=c,x&&!h.current&&(h.current=function(){global.document?.visibilityState===`hidden`&&g.current.flush()},(i=global.document)==null||i.addEventListener==null||i.addEventListener(`visibilitychange`,h.current)),p){if(!l.current&&m.current)return s.current=o.current,t(E,n),y?e(o.current):f.current;if(S)return t(E,n),e(o.current)}return l.current||t(E,n),f.current}};return O.cancel=function(){var e=l.current;e&&(v?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,u.current=o.current=d.current=l.current=null,e&&i&&i({})},O.isPending=function(){return!!l.current},O.flush=function(){return l.current?T(Date.now()):f.current},O},[y,S,n,w,b,x,v,_,C,i]);return g.current=T,(0,t.useEffect)(function(){return m.current=!0,function(){var e;x&&g.current.flush(),h.current&&=((e=global.document)==null||e.removeEventListener==null||e.removeEventListener(`visibilitychange`,h.current),null),m.current=!1}},[x]),T}function r(e,t){return e===t}function i(e,i,a){var o=a&&a.equalityFn||r,s=(0,t.useRef)(e),c=(0,t.useState)({})[1],l=n((0,t.useCallback)(function(e){s.current=e,c({})},[c]),i,a,c),u=(0,t.useRef)(e);return o(u.current,e)||(l(e),u.current=e),[s.current,l]}export{i as t};