import{a as e,i as t}from"./framer-motion-Jr-DK7GE.js";import{c as n,i as r,m as i,p as a,r as o}from"./index-DK6-i-hY.js";import{t as s}from"./use-debounce-CGBomU3T.js";var c=n(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),l=i(),u=e(),d=t(),f=async(e,t=[])=>(await new Promise(e=>setTimeout(e,300)),t.filter(t=>t.toLowerCase().includes(e.toLowerCase())));function p(e){let t=(0,l.c)(46),{value:n,initialValues:i,onChange:p,onSuggestionClick:h}=e,g=n===void 0?``:n,_;t[0]===i?_=t[1]:(_=i===void 0?[]:i,t[0]=i,t[1]=_);let v=_,{t:y}=a(),[b,x]=(0,u.useState)(g),[S]=s(b,300),C;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(C=[],t[2]=C):C=t[2];let[w,T]=(0,u.useState)(C),[E,D]=(0,u.useState)(-1),[O,k]=(0,u.useState)(!1),[A,j]=(0,u.useState)(!1),M;t[3]===v?M=t[4]:(M=async e=>{if(e.trim()===``){T([]);return}k(!0),T(await f(e,v)),k(!1)},t[3]=v,t[4]=M);let N=M,P,F;t[5]!==S||t[6]!==N||t[7]!==A?(P=()=>{(async()=>{S&&A?await N(S):T([])})()},F=[S,N,A],t[5]=S,t[6]=N,t[7]=A,t[8]=P,t[9]=F):(P=t[8],F=t[9]),(0,u.useEffect)(P,F);let I;t[10]===p?I=t[11]:(I=e=>{let t=e.target.value;x(t),p?.(t),D(-1)},t[10]=p,t[11]=I);let L=I,R;t[12]!==h||t[13]!==E||t[14]!==w?(R=e=>{e.key===`ArrowDown`?(e.preventDefault(),D(e=>e<w.length-1?e+1:e)):e.key===`ArrowUp`?(e.preventDefault(),D(m)):e.key===`Enter`&&E>=0?(x(w[E]),T([]),D(-1),h?.(w[E])):e.key===`Escape`&&(T([]),D(-1))},t[12]=h,t[13]=E,t[14]=w,t[15]=R):R=t[15];let z=R,B;t[16]!==p||t[17]!==h?(B=e=>{x(e),p?.(e),h?.(e),T([]),D(-1)},t[16]=p,t[17]=h,t[18]=B):B=t[18];let V=B,H;t[19]===Symbol.for(`react.memo_cache_sentinel`)?(H=()=>{j(!0)},t[19]=H):H=t[19];let U=H,W;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(W=()=>{setTimeout(()=>{j(!1),T([]),D(-1)},200)},t[20]=W):W=t[20];let G=W,K;t[21]===y?K=t[22]:(K=y(`autocomplete.placeholder`),t[21]=y,t[22]=K);let q=w.length>0,J;t[23]!==L||t[24]!==z||t[25]!==b||t[26]!==K||t[27]!==q?(J=(0,d.jsx)(o,{id:`search-input`,type:`text`,placeholder:K,value:b,onChange:L,onKeyDown:z,onFocus:U,onBlur:G,className:`h-12 pr-8`,"aria-label":`Search input`,"aria-autocomplete":`list`,"aria-controls":`suggestions-list`,"aria-expanded":q,name:`search`}),t[23]=L,t[24]=z,t[25]=b,t[26]=K,t[27]=q,t[28]=J):J=t[28];let Y;t[29]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,d.jsx)(r,{size:`icon`,variant:`ghost`,className:`absolute top-0 right-0 h-full`,"aria-label":`Search`,disabled:!0,children:(0,d.jsx)(c,{className:`h-4 w-4`})}),t[29]=Y):Y=t[29];let X;t[30]===J?X=t[31]:(X=(0,d.jsxs)(`div`,{className:`relative`,children:[J,Y]}),t[30]=J,t[31]=X);let Z;t[32]!==A||t[33]!==O||t[34]!==y?(Z=O&&A&&(0,d.jsx)(`div`,{className:`bg-background absolute z-10 mt-2 rounded-md border p-2`,"aria-live":`polite`,children:y(`autocomplete.loading`)}),t[32]=A,t[33]=O,t[34]=y,t[35]=Z):Z=t[35];let Q;t[36]!==V||t[37]!==A||t[38]!==O||t[39]!==E||t[40]!==w?(Q=w.length>0&&!O&&A&&(0,d.jsx)(`ul`,{id:`suggestions-list`,className:`bg-background absolute z-10 mt-2 rounded-md border`,role:`listbox`,children:w.map((e,t)=>(0,d.jsx)(`li`,{className:`hover:bg-muted cursor-pointer px-4 py-2 ${t===E?`bg-muted`:``}`,onClick:()=>V(e),role:`option`,"aria-selected":t===E,children:e},e))}),t[36]=V,t[37]=A,t[38]=O,t[39]=E,t[40]=w,t[41]=Q):Q=t[41];let $;return t[42]!==X||t[43]!==Z||t[44]!==Q?($=(0,d.jsxs)(`div`,{className:`mx-auto w-full rounded-md bg-white dark:bg-slate-900`,children:[X,Z,Q]}),t[42]=X,t[43]=Z,t[44]=Q,t[45]=$):$=t[45],$}function m(e){return e>0?e-1:-1}export{p as default};